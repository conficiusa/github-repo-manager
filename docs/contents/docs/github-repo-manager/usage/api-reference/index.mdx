---
title: API Reference
description: This page provides a comprehensive reference for the GitHub Repository Manager API, useful for developers integrating the tool into their Python applications.
keywords: ["api", "reference", "functions", "methods", "classes"]
---
## GitHubRepoManager Class

The main class that provides all repository management functionality.

### Constructor

```python
GitHubRepoManager(token=None, username=None)
```

**Parameters:**
- `token` (str, optional): GitHub personal access token. If not provided, will attempt to use environment variable or prompt.
- `username` (str, optional): GitHub username. If not provided, will attempt to use environment variable or prompt.

**Example:**
```python
from github_repo_manager import GitHubRepoManager

# Using provided credentials
manager = GitHubRepoManager(token="YOUR_TOKEN", username="YOUR_USERNAME")

# Using environment variables
manager = GitHubRepoManager()
```

### Methods

#### get_repositories

```python
get_repositories(filter_pattern=None, visibility=None, max_pages=10)
```

Fetches repositories from GitHub, with optional filtering.

**Parameters:**
- `filter_pattern` (str, optional): Regex pattern to match repository names.
- `visibility` (str, optional): Filter by visibility ("public", "private", or None for all).
- `max_pages` (int, optional): Maximum number of pages to fetch (30 repos per page).

**Returns:**
- List of repository objects from the GitHub API.

**Example:**
```python
# Get all repositories
repos = manager.get_repositories()

# Get repositories matching a pattern
test_repos = manager.get_repositories(filter_pattern="test-")

# Get private repositories
private_repos = manager.get_repositories(visibility="private")
```

#### delete_repository

```python
delete_repository(repo_name)
```

Deletes a single repository.

**Parameters:**
- `repo_name` (str): Name of the repository to delete.

**Returns:**
- `bool`: True if successful, False otherwise.

**Example:**
```python
success = manager.delete_repository("test-repo")
if success:
    print("Repository deleted successfully")
```

#### select_repositories_interactively

```python
select_repositories_interactively(repos)
```

Displays an interactive terminal UI for selecting repositories.

**Parameters:**
- `repos` (list): List of repository objects to select from.

**Returns:**
- List of selected repository objects.

**Example:**
```python
# Get repositories
repos = manager.get_repositories()

# Let the user select repositories interactively
selected_repos = manager.select_repositories_interactively(repos)
```

#### bulk_delete

```python
bulk_delete(repos, dry_run=True, confirm=True, delay=1)
```

Performs bulk deletion of repositories, with safety features.

**Parameters:**
- `repos` (list): List of repository objects to process.
- `dry_run` (bool, optional): If True, only preview operations without making changes.
- `confirm` (bool, optional): If True, show interactive selection UI.
- `delay` (float, optional): Delay between operations in seconds.

**Returns:**
- `int`: Number of repositories deleted.

**Example:**
```python
# Get repositories matching a pattern
repos_to_delete = manager.get_repositories(filter_pattern="temp-")

# Delete them with confirmation
deleted_count = manager.bulk_delete(
    repos_to_delete,
    dry_run=False,  # Actually perform deletion
    confirm=True,   # Show interactive UI
    delay=1.0       # Wait 1 second between deletions
)
print(f"Deleted {deleted_count} repositories")
```

## Repository Objects

The GitHub API returns repository objects with these common properties:

| Property | Type | Description |
|----------|------|-------------|
| `name` | string | Repository name |
| `full_name` | string | Full name including owner (e.g., "username/repo") |
| `description` | string | Repository description |
| `private` | boolean | Whether the repository is private |
| `visibility` | string | "public" or "private" |
| `fork` | boolean | Whether the repository is a fork |
| `created_at` | string | ISO 8601 creation timestamp |
| `updated_at` | string | ISO 8601 last update timestamp |
| `pushed_at` | string | ISO 8601 last push timestamp |
| `size` | integer | Repository size in KB |
| `language` | string | Primary programming language |
| `archived` | boolean | Whether the repository is archived |

## Helper Functions

### cli_main

```python
from github_repo_manager import cli_main

# Run the command-line interface
cli_main()
```

This function implements the command-line interface. It parses arguments and calls the appropriate GitHubRepoManager methods.

## Error Handling

The API uses standard Python exceptions:

- `ValueError`: For invalid input parameters
- `KeyboardInterrupt`: When the user cancels an operation
- Standard HTTP errors from the requests library

**Example with error handling:**
```python
from github_repo_manager import GitHubRepoManager

try:
    manager = GitHubRepoManager()
    repos = manager.get_repositories()
    manager.bulk_delete(repos)
except ValueError as e:
    print(f"Invalid input: {str(e)}")
except KeyboardInterrupt:
    print("Operation cancelled by user")
except Exception as e:
    print(f"Unexpected error: {str(e)}")
```

## Environment Variables

The API recognizes these environment variables:

- `GITHUB_TOKEN`: GitHub personal access token
- `GITHUB_USERNAME`: GitHub username

## Thread Safety

The GitHub Repository Manager is not explicitly designed to be thread-safe. If you need to use it in a multithreaded environment, implement your own synchronization.

## Rate Limiting

The API includes built-in delays between operations to avoid GitHub API rate limits. You can adjust this with the `delay` parameter in `bulk_delete`.

For high-volume operations, consider implementing additional rate limit handling:

```python
import time
from requests.exceptions import HTTPError

try:
    manager.delete_repository(repo_name)
except HTTPError as e:
    if e.response.status_code == 429:  # Rate limit exceeded
        retry_after = int(e.response.headers.get('Retry-After', 60))
        print(f"Rate limit exceeded. Waiting {retry_after} seconds...")
        time.sleep(retry_after)
        # Try again
        manager.delete_repository(repo_name)
```